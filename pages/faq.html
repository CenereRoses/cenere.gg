<!DOCTYPE html>
<html lang="en">
    <head>
        <title>FAQ Pageï½œCenere</title>

        <meta charset="UTF-8">
        <link rel="stylesheet" type="text/css" href="../style.css" media="screen, handheld">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta name="Content-Language" content="en">
        <meta name="author" content="@CenereRoses">
        <meta name="KeyWords" content="CenereRoses, VTuber, Designer, Artist, Writer, Programmer, YouTuber, Gamer">

        <title>CenereRoses</title>
        <meta name="description" content="CenereRoses, VTuber, Designer, Artist, Writer, Programmer; etc. etc.">
        <meta name="framer-search-index" content="https://framerusercontent.com/sites/5yMkgsjeSDwgoFjWT0UmBY/searchIndex-8xYWCxY8Jt0Z.json">
        <link rel="icon" href="https://framerusercontent.com/sites/icons/default-favicon.v3.png">
        <!-- Open Graph / Facebook -->
        <meta property="og:type" content="website">
        <meta property="og:title" content="CenereRoses">
        <meta property="og:description" content="CenereRoses, VTuber, Designer, Artist, Writer, Programmer; etc. etc.">
        <!-- Twitter -->
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:title" content="CenereRoses">
        <meta name="twitter:description" content="CenereRoses, VTuber, Designer, Artist, Writer, Programmer; etc. etc.">

        <link href="https://fonts.googleapis.com" rel="preconnect" crossorigin>
    </head>
    <body>
        <div id="faq-search">
            <h4>Frequently Asked Questions</h4>
            <hr>
            <div class="search-box">
                <form name="search">
                    <input type="text"
                    id="search-bar"
                    name="txt">
                </form>
                <i class="fa fa-search"></i>
            </div>
            <div id="faq-container">
                <!-- SCRIPT WILL PASTE HERE-->
            </div>
        </div>
        
        <script>

            function toggleAnswer(id) {
                var answer = document.getElementById('answer' + id);
                if (answer.style.display === 'flex') {
                    answer.style.display = 'none';
                } else {
                    answer.style.display = 'flex';
                }
            }

            function displayFAQ(data) {
                const faqContainer = document.getElementById("faq-container");
                faqContainer.innerHTML = "";

                data.forEach(item => {
                    const faqItem = document.createElement("div");
                    faqItem.innerHTML = `<h5>${item.question}</h5><p>${item.answer}</p>`;
                    faqContainer.appendChild(faqItem);
                });
            }

            function handleSearch() {
                const searchTerm = document.getElementById("search-bar").value.toLowerCase();

                const filteredData = faqData.filter(item =>
                    item.question.toLowerCase().includes(searchTerm) ||
                    item.answer.toLowerCase().includes(searchTerm)
                );

                displayFAQ(filteredData);
            }

            // Fetch FAQ data from external file
            fetch('.\data\faq-data.json')
            .then(response => {
                console.log('Response status:', response.status);
                return response.json();
            })
            .then(data => {
                faqData = data; // Assign data to the global variable
                // Initial display of FAQ items
                displayFAQ(faqData);

                // Attach search event listener
                document.getElementById("search-bar").addEventListener("input", handleSearch);
                console.log(data)
            })
            .catch(error => console.error('Error fetching FAQ data:', error));
        </script>
    </body>
</html>